import{B as u}from"./Button-RQT0SqRp.js";import{d as f,a0 as m,w as _,O as g,a6 as z,_ as h,P as v,o as N,g as l,e as s,a as r,f as i}from"./app-ChJA9yCn.js";import{N as b}from"./Input-DcpdH3y4.js";const w=f({__name:"Request",setup(c,{expose:t}){t();const a={global:["https://login.microsoftonline.com","https://graph.microsoft.com","https://portal.azure.com","Global","https://www.office.com/","0a2991a3-1674-4334-8561-671cc7349960","uw67Q~TCMqdJyH35hlcHHclv~mhNOGx.jfPFm"],cn:["https://login.chinacloudapi.cn","https://microsoftgraph.chinacloudapi.cn","https://portal.azure.cn","21vianet(世纪互联)","https://portal.partner.microsoftonline.cn/Home","50ff485b-3bdc-4bd5-92a1-75b178187673","6v426lmVYKGM.bkuFu24-EqJAr_~~5_HKL"],de:["https://login.microsoftonline.de","https://graph.microsoft.de","https://portal.microsoftazure.de","Azure Germany"],us:["https://login.microsoftonline.us","https://graph.microsoft.us","https://portal.azure.us","Azure US GOV"]},e=m({zone:"global",client_id:"",client_secret:""});e.client_id=a[e.zone][5],e.client_secret=a[e.zone][6],_(()=>e.zone,o=>{e.client_id=a[o][5]||"",e.client_secret=a[o][6]||""});const n={zones:a,data:e,createClient:()=>{window.open(a[e.zone][2]+"/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade","_blank")},getToken:()=>{const o=new URL(`${a[e.zone][0]}/common/oauth2/v2.0/authorize`);o.searchParams.set("client_id",e.client_id),o.searchParams.set("response_type","code"),o.searchParams.set("redirect_uri","https://alist.nn.ci/tool/onedrive/callback"),o.searchParams.set("scope","offline_access files.readwrite.all"),o.searchParams.set("state",window.btoa(`${e.client_id}::${e.client_secret}::${e.zone}`)),window.open(o.toString(),"_self")},get NInput(){return b},get NSelect(){return z},get NButton(){return u},get NSpace(){return g}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function k(c,t,a,e,d,p){return N(),v(e.NSpace,{vertical:"",size:"large"},{default:l(()=>[t[5]||(t[5]=s("h4",null,"zone",-1)),r(e.NSelect,{value:e.data.zone,"onUpdate:value":t[0]||(t[0]=n=>e.data.zone=n),size:"large",options:Object.keys(e.zones).map(n=>({label:e.zones[n][3],value:n}))},null,8,["value","options"]),t[6]||(t[6]=s("h4",null,"client_id",-1)),r(e.NInput,{size:"large",value:e.data.client_id,"onUpdate:value":t[1]||(t[1]=n=>e.data.client_id=n)},null,8,["value"]),t[7]||(t[7]=s("h4",null,"client_secret",-1)),r(e.NInput,{size:"large",value:e.data.client_secret,"onUpdate:value":t[2]||(t[2]=n=>e.data.client_secret=n)},null,8,["value"]),r(e.NSpace,{justify:"center"},{default:l(()=>[r(e.NButton,{size:"large",secondary:"",onClick:e.createClient},{default:l(()=>t[3]||(t[3]=[i("Create client")])),_:1}),r(e.NButton,{size:"large",type:"primary",onClick:e.getToken},{default:l(()=>t[4]||(t[4]=[i("Get Refresh Token")])),_:1})]),_:1})]),_:1})}const C=h(w,[["render",k],["__scopeId","data-v-386c0b82"],["__file","Request.vue"]]);export{C as O};
