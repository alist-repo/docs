import{B as w}from"./Button-RQT0SqRp.js";import{d as v,a0 as C,O as y,_ as k,P as _,o as p,g as i,a as o,e as s,Q as x,f as a,R as g}from"./app-ChJA9yCn.js";import{N as B}from"./text-2HzJKDdZ.js";import{N as R}from"./Card-B3Ir5xK7.js";import{N as b}from"./Input-DcpdH3y4.js";const f="https://alist.nn.ci/tool/google/callback",P=v({__name:"Request",setup(m,{expose:t}){t();function c(){window.open("https://console.developers.google.com/","_blank")}const e={client_id:"202264815644.apps.googleusercontent.com",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_secret:"X4Z3ca8xfWDb1Voo-F9a7ZxJ",redirect_uri:"http://127.0.0.1:53682/"},r=C({client_id:"",client_secret:"",redirect_uri:""});function d(){r.client_id=e.client_id,r.client_secret=e.client_secret,r.redirect_uri=e.redirect_uri}function l(){r.client_id="",r.client_secret="",r.redirect_uri=f}function N(){const n=new URL("https://accounts.google.com/o/oauth2/auth");n.searchParams.set("client_id",r.client_id),n.searchParams.set("response_type","code"),n.searchParams.set("redirect_uri",r.redirect_uri),n.searchParams.set("scope","openid profile https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/photoslibrary"),n.searchParams.set("access_type","offline"),n.searchParams.set("prompt","consent"),n.searchParams.set("state",btoa(`${r.client_id}::${r.client_secret}::${r.redirect_uri}`)),window.open(n.toString(),"_blank")}const u={createClient:c,rclone:e,alist_redirect_uri:f,data:r,useRClone:d,useOwn:l,goGet:N,get NButton(){return w},get NSpace(){return y},get NInput(){return b},get NCard(){return R},get NText(){return B}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function h(m,t,c,e,r,d){return p(),_(e.NSpace,{vertical:"",size:"large"},{default:i(()=>[o(e.NSpace,{justify:"center"},{default:i(()=>[o(e.NButton,{size:"large",secondary:"",onClick:e.createClient},{default:i(()=>t[3]||(t[3]=[a("Create client")])),_:1}),o(e.NButton,{size:"large",type:"primary",onClick:e.useRClone},{default:i(()=>t[4]||(t[4]=[a("Use RClone client")])),_:1}),o(e.NButton,{size:"large",type:"info",onClick:e.useOwn},{default:i(()=>t[5]||(t[5]=[a("Use own client")])),_:1})]),_:1}),t[10]||(t[10]=s("h4",null,"client_id",-1)),o(e.NInput,{size:"large",value:e.data.client_id,"onUpdate:value":t[0]||(t[0]=l=>e.data.client_id=l)},null,8,["value"]),t[11]||(t[11]=s("h4",null,"client_secret",-1)),o(e.NInput,{size:"large",value:e.data.client_secret,"onUpdate:value":t[1]||(t[1]=l=>e.data.client_secret=l)},null,8,["value"]),t[12]||(t[12]=s("h4",null,"redirect_uri",-1)),o(e.NInput,{size:"large",value:e.data.redirect_uri,"onUpdate:value":t[2]||(t[2]=l=>e.data.redirect_uri=l)},null,8,["value"]),o(e.NButton,{size:"large",type:"primary",block:"",onClick:e.goGet},{default:i(()=>t[6]||(t[6]=[a("Go get")])),_:1}),e.data.client_id===e.rclone.client_id?(p(),_(e.NCard,{key:0,title:"If you use rclone client"},{default:i(()=>[t[7]||(t[7]=a(" Replace ")),o(e.NText,{code:""},{default:i(()=>[a(g(e.rclone.redirect_uri),1)]),_:1}),t[8]||(t[8]=a(" with ")),o(e.NText,{code:""},{default:i(()=>[a(g(e.alist_redirect_uri))]),_:1}),t[9]||(t[9]=a(" after oauth. "))]),_:1})):x("",!0)]),_:1})}const V=k(P,[["render",h],["__scopeId","data-v-925a1ee2"],["__file","Request.vue"]]);export{V as R};
